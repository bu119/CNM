<template>
  <div>
    <h1>ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ê¸°ë¶„ì€?</h1>
    <span>
      <img @click="happyMovie" src="@/assets/happy.png" alt="">
      <img @click="angryMovie" src="@/assets/angry.png" alt="">
      <img @click="sadMovie" src="@/assets/sad.png" alt="">
    </span>
    <div>
      <br>
      <div
        v-if="feeling === 'í–‰ë³µ'">
        <h3>ë‚˜ëŠ” ì˜¤ëŠ˜ í–‰ë³µí•´ğŸ˜</h3>
        <span
          v-for="mov in movies['happy']"
          :key="`hapyy-${mov.id}`">
          <router-link
            :to="{ 
              name: 'DetailView',
              params: { id: mov.id }
            }"  
          >
            <img :src="movieImgURL+mov.poster_path" alt="..." width=250>
          </router-link>
        </span>
      </div>

      <div
        v-if="feeling === 'í™”ë‚¨'">
        <h3>ë‚˜ëŠ” ì˜¤ëŠ˜ ê¸°ë¶„ì´ ë³„ë¡œ ì¢‹ì§€ ì•Šì•„ğŸ¤¨</h3>
        <span
          v-for="mov in movies['angry']"
          :key="`angry-${mov.id}`">
          <router-link
            :to="{ 
              name: 'DetailView',
              params: { id: mov.id }
            }"  
          >
            <img :src="movieImgURL+mov.poster_path" alt="..." width=250>
          </router-link>
        </span>
      </div>

      <div
        v-if="feeling === 'ìš°ìš¸'">
        <h3>ë‚˜ëŠ” ì˜¤ëŠ˜ êµ‰ì¥íˆ ìš°ìš¸í•´ğŸ˜¥</h3>
        <span
          v-for="mov in movies['depressive']"
          :key="`depressive-${mov.id}`">
          <router-link
            :to="{ 
              name: 'DetailView',
              params: { id: mov.id }
            }"  
          >
            <img :src="movieImgURL+mov.poster_path" alt="..." width=250>
          </router-link>
        </span>
      </div>

    </div>
  </div>
</template>

<script>
export default {
  name: 'SelectFaceView',
  data() {
    return {
      feeling: null,
    }
  },
  created() {
    this.getFeelingMovies()
  },
  computed: {
    movies() {
      return this.$store.state.feelingmovies
    },
    movieImgURL() {
      return `https://image.tmdb.org/t/p/w600_and_h900_bestv2`
    },
  },
  methods: {
    happyMovie() {
      this.feeling = 'í–‰ë³µ'
    },
    angryMovie() {
      this.feeling = 'í™”ë‚¨'
    },
    sadMovie() {
      this.feeling = 'ìš°ìš¸'
    },
    getFeelingMovies() {
      this.$store.dispatch('getFeelingMovies')
    }
  }
}
</script>

<style>

</style>